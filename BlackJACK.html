<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-16">
        <link rel="stylesheet" href="css/style.css">

        <style>
            body{
                border-bottom: 1px solid black;
                height: 400px;
                background-image: url('welcome.png');
            }
        
            #dealer{
                position: absolute; left: 650px; bottom: 550px;
            }
            #player{
                position: absolute; left: 650px; bottom: 100px;
            }
            .button-wrapper {
        display: inline-block;
       /* margin: 20px 5px;
        padding: 40px;*/
    }
    .dark-button,
    .dark-button-2 {
        background: #333;
    }
    .button {
        background: #fff;
        border: none;
        padding: 2px;
        cursor: pointer;
        display: block;
        position: relative;
        overflow: hidden;
        transition: all .35s ease-in-out .35s;
        margin: 0 auto;
         width: 150px;
        text-align: center;
    }
    .dark-button .button,
    .dark-button .button span {
        background: #36B4C7;
        color: #fff;
    }
    .dark-button .button:after,
    .dark-button .button:before,
    .dark-button .button:hover span {
        background: #fff;
        color: #444;
    } 
    .dark-button-2 .button,
    .dark-button-2 .button span {
        background: #333;
        color: #fff;
    }
    .dark-button-2 .button:after,
    .dark-button-2 .button:before,
    .dark-button-2 .button:hover span {
        background: #fff;
        color: #444;
    } 
    
    span {
        display: block;
       /*padding: 15px 30px; */
        background: #fff;
        z-index: 100;
        position: relative;
        transition: all .35s ease-in-out .35s;
    }
    .button:hover span {
        background: #36B4C7;
        color: #fff;
        transition: all .35s ease-in-out .35s;
    }
    .button:after {
        bottom: -100%;
        right: -100%;
        content: "";
        width: 100%;
        height: 100%;
        position: absolute;
        background: #36B4C7;
        transition: all .35s ease-in-out .5s;
    }
    .button:hover:after {
        right: 0;
        bottom: 0;
        transition: all ease-in-out .35s;
    }
    .button:before {
        top: -100%;
        left: -100%;
        content: "";
        width: 100%;
        height: 100%;
        position: absolute;
        background: #36B4C7;
        transition: all .35s ease-in-out .5s;
    }
    .button:hover:before {
        left: 0;
        top: 0;
        transition: all ease-in-out .35s;
    }

        </style>
        <title>☆WELCOME TO BLACKJACK!★</title>
    </head>

    <body>
        <input type = "text" value="가지고 있는 코인 : "style="background-color:transparent;border:0" disabled> 
        <input type=  "text" id = "RCoin" value="1000" style="background-color:transparent;border:0;text-align: left" disabled>
        <br>
    
        
        
         <input type="text" value="배팅금액 : " style="width: 60px;background-color:transparent;border:0;text-align:left;" disabled>
         <input type="text" onclick="reset()" id="bet" value="" style="text-align:left;">
         <div class="light-button button-wrapper">
            <div class="button">
                <span onclick="gameStart()">
                    배팅하기
                </span>
            </div>  
        </div>
        <br>
         
         <input type="text" value="대출받을 돈(5백만원 이하) : " style="width: 1    60px;background-color:transparent;border:0;text-align:left;" disabled>         
         <input type="text" value="" id="minusmoney"> 
         <div class="light-button button-wrapper">
            <div class="button">
                <span onclick="eocnf()">
                    대출받기
                </span>
            </div>  
        </div>
        <br>
         <input type="text" value="빛 : " style="width: 60px;background-color:transparent;border:0;text-align:left;" disabled>         
         <input type="text" id="summoneyminus" value =''style="width: 60px;background-color:transparent;border:0;text-align:left;" disabled>
         <br>
         <input type="text" id="rkvdmfqlc" >
         <div class="light-button button-wrapper">
            <div class="button">
                <span onclick="qlcrkvrl()">
                    빛 갚기
                </span>
            </div>  
        </div>
         
        
        <div id = "dealer">
            <img src="Cards/class.jpg"  id="Dcard0" style="position: absolute; left:0px;bottom: 50px ; width: 50px; height: 70px;"> 
            <img  src="Cards/class.jpg" id="Dcard1" style="position: absolute; left:50px;bottom: 50px ; width: 50px; height: 70px " >   
            <img  src="Cards/class.jpg" id="Dcard2" style="position: absolute; left:100px;bottom: 50px ; width: 50px; height: 70px;"> 
            <img  src="Cards/class.jpg" id="Dcard3" style="position: absolute; left:150px;bottom: 50px ; width: 50px; height: 70px " >   
            <img  src="Cards/class.jpg" id="Dcard4" style="position: absolute; left:200px;bottom: 50px ; width: 50px; height: 70px;"> 
            <img   src="Cards/class.jpg" id="Dcard5" style="position: absolute; left:250px;bottom: 50px ; width: 50px; height: 70px " >   
            <img   src="Cards/class.jpg" id="Dcard6" style="position: absolute; left:300px;bottom: 50px ; width: 50px; height: 70px " >   
            <img  src="Cards/class.jpg" id="Dcard7" style="position: absolute; left:350px;bottom: 50px ; width: 50px; height: 70px " >   
            <img   src="Cards/class.jpg" id="Dcard8" style="position: absolute; left:400px;bottom: 50px ; width: 50px; height: 70px" >   
            <img   src="Cards/class.jpg" id="Dcard9" style="position: absolute; left:450px;bottom: 50px ; width: 50px; height: 70px " >   
            <input type="text"  id="DCardCounting" disabled> 
            <input type = "text"id="HowMuchYOUbet" value ="배팅금액" style="position: absolute; left: 500px; bottom: 0px; width: 330px; height: 200px; padding:90px 280px 50px 100px;font-size: 50px">
            <input type = "text"id="1" value ="" style="background-color:transparent;border:0; position: absolute; left: 500px; bottom: 0px; width: 330px; height: 200px; padding:50px 00px 0px 150px;font-size: 40px;text-align: left;">
        </div>
        <div id = "player" >
                <div style="position: absolute; bottom: 50px;">  
             <img src="Cards/class.jpg"  id="card0" style="position: absolute; left:0px;width: 50px; height: 70px;"> 
              <img  src="Cards/class.jpg" id="card1" style="position: absolute; left:50px; width: 50px; height: 70px " >   
              <img  src="Cards/class.jpg" id="card2" style="position: absolute; left:100px; width: 50px; height: 70px;"> 
              <img  src="Cards/class.jpg" id="card3" style="position: absolute; left:150px; width: 50px; height: 70px " >   
              <img  src="Cards/class.jpg" id="card4" style="position: absolute; left:200px; width: 50px; height: 70px;"> 
              <img   src="Cards/class.jpg" id="card5" style="position: absolute; left:250px; width: 50px; height: 70px " >   
              <img   src="Cards/class.jpg" id="card6" style="position: absolute; left:300px; width: 50px; height: 70px " >   
              <img  src="Cards/class.jpg" id="card7" style="position: absolute; left:350px; width: 50px; height: 70px " >   
              <img   src="Cards/class.jpg" id="card8" style="position: absolute; left:400px; width: 50px; height: 70px " >   
              <img   src="Cards/class.jpg" id="card9" style="position: absolute; left:450px; width: 50px; height: 70px " >   
              <img   src="Cards/class.jpg" id="card10" style="position: absolute; left:500px; width: 50px; height: 70px " >   
              <input type="text" disabled>
            </div>

              <div class="light-button button-wrapper" style="position: absolute; left: 200px">
                <div class="button">
                    <span onclick="Hit()">
                        HIT
                    </span>
                </div>  
            </div>
            <div class="light-button button-wrapper"style="position: absolute; left: 400px">
                <div class="button">
                    <span onclick="Split()">
                        Split
                    </span>
                </div>  
                <br>
                <input type="text"  id="CardCounting1" style="position: absolute; right:400px ;bottom: 20px;" disabled>

            </div>

    </body>
    <script>
        var cardnum = -1;
        var Dcardnum = -1;
        var moonyang = 0;
        var card =[1,2,3,4,5,6,7,8,9,10,10,10,10];
        var player_card = 0;
        var Dplayer_card = 0;
        var moment_counting = 0;
        var Dmoment_counting = 0;
        var dealer_card = 0;
        var check  = 0;
        var shape  = '';
        let cardShape;
        var Dshape = '';
        var cardnumber = 0;
        var Dcardnumber = 0;
        var ace = 0;
        var Dace = 0;
        var betting = 0;
        var num = 0;
        var i = 0;
        var coin = 1000;
        var moment_coin = 0;
        var fcoin = 0;
        var plc = 0;
        var mplc  = 0;
        var plcrkvrl = 0;
        var Dcardnum = -1;
        let CardShapenumber = ["CA","C2","C3","C4","C5","C6","C7","C8","C9","C10","CJ","CQ","CK"];
        const cardSpade ={
            CA: "Cards/spadeA.jpg",
            C2: "Cards/spade2.jpg",
            C3: "Cards/spade3.jpg",
            C4: "Cards/spade4.jpg",
            C5: "Cards/spade5.jpg",
            C6: "Cards/spade6.jpg",
            C7: "Cards/spade7.jpg",
            C8: "Cards/spade8.jpg",
            C9: "Cards/spade9.jpg",
            C10: "Cards/spade10.jpg",
            CJ: "Cards/spadeJ.jpg",
            CQ: "Cards/spadeQ.jpg",
            CK: "Cards/spadeK.jpg"
        };
        const cardHeart ={
            CA: "Cards/HeartA.jpg",
            C2: "Cards/Heart2.jpg",
            C3: "Cards/Heart3.jpg",
            C4: "Cards/Heart4.jpg",
            C5: "Cards/Heart5.jpg",
            C6: "Cards/Heart6.jpg",
            C7: "Cards/Heart7.jpg",
            C8: "Cards/Heart8.jpg",
            C9: "Cards/Heart9.jpg",
            C10: "Cards/Heart10.jpg",
            CJ: "Cards/HeartJ.jpg",
            CQ: "Cards/HeartQ.jpg",
            CK: "Cards/HeartK.jpg"
        };
        const cardDIA ={
        CA: "Cards/diaA.jpg",
         C2: "Cards/dia2.jpg",
        C3: "Cards/dia3.jpg",
        C4: "Cards/dia4.jpg",
        C5: "Cards/dia5.jpg",
        C6: "Cards/dia6.jpg",
        C7: "Cards/dia7.jpg",
        C8: "Cards/dia8.jpg",
        C9: "Cards/dia9.jpg",
        C10: "Cards/dia10.jpg",
        CJ: "Cards/diaJ.jpg",
        CQ: "Cards/diaQ.jpg",
        CK: "Cards/diaK.jpg"
        }; 
        const cardClover ={
            CA: "Cards/cloverA.jpg",
            C2: "Cards/clover2.jpg",
            C3: "Cards/clover3.jpg",
            C4: "Cards/clover4.jpg",
            C5: "Cards/clover5.jpg",
            C6: "Cards/clover6.jpg",
            C7: "Cards/clover7.jpg",
            C8: "Cards/clover8.jpg",
            C9: "Cards/clover9.jpg",
            C10: "Cards/clover10.jpg",
            CJ: "Cards/cloverJ.jpg",
            CQ: "Cards/cloverQ.jpg",
            CK: "Cards/cloverK.jpg"
        };
        function qlcrkvrl()
        {

            plcrkvrl = document.getElementById('rkvdmfqlc').value*1;
        if(plcrkvrl  != NaN)
        {
            plc -= plcrkvrl;
            coin -= plcrkvrl;
            if(coin > 0)
            {
                if(plc<0)
              {
                coin -= plc;

                plc += plcrkvrl;
                plc -= plc;
                plcrkvrl -= plc;
                document.getElementById('summoneyminus').value = plc;
                document.getElementById('RCoin').value = coin;
            }
            else 
            {
                document.getElementById('summoneyminus').value = plc;
                document.getElementById('RCoin').value = coin;
            } 
            document.getElementById('RCoin').value = coin;
            document.getElementById('rkvdmfqlc').value = '';
            }
            else coin += plcrkvrl;
         
        }
        else    document.getElementById('rkvdmfqlc').value = '';

        
        }
        function eocnf()
        {
            mplc = document.getElementById('minusmoney').value*1;
            plc += mplc;
            console.log(typeof plc);
            if(plc > 5000000 || plc ==='NaN')
            {
                plc -= mplc;
                mplc = 0;

            }
            else
            {                
                coin += mplc*1;
                document.getElementById('RCoin').value = '';
                document.getElementById('RCoin').value = coin;  
                document.getElementById('summoneyminus').value = plc;
                document.getElementById('minusmoney').value = '';
            }
        }
        function gameStart()
        {
              fcoin = coin
              moment_coin = document.getElementById('bet').value;
              cardnum = -1;
              if(typeof(moment_coin) === 'NaN' || moment_coin === '') 
               {
                    reset();
               }
            else if( moment_coin != 'NaN' &&  0<moment_coin )
            {
                coin -= moment_coin;    
                if(coin < 0)
                {
                    document.getElementById('bet').value = '';
                        coin=fcoin ;
                        document.getElementById('bet').value = '너무많은 금액을 입력하셨습니다.';
                        document.getElementById('RCoin').value = coin;
                }
                else
                {
                    document.getElementById('bet').value = '';
                    betting =  moment_coin;
                    document.getElementById('RCoin').value = coin;
                    document.getElementById('1').value = betting;

                    if(-1<betting) 
                    {
                        cardCounting();
                    }   

                    else
                    {
                         document.getElementById('bet').value='배팅금액을 입력해주세요!';
                    }
                 }
                }
                else reset();
                    }
                    function put(){
                        switch(moonyang)
                        {
                            case 0:
                            shape = cardClover;
                            break;
                            case 1:
                            shape = cardDIA;
                            break;
                            case 2:
                            shape = cardSpade;
                            break;
                            case 3:
                            shape = cardHeart;
                            break;
                        }
                        cardnum++;
                       document.getElementById(`card${cardnum}`).src = shape[CardShapenumber[cardnumber]];
                       document.getElementById('CardCounting1').value = Dplayer_card;
                    }
            function Dput()
            {
                switch(moonyang)
                        {
                            case 0:
                            shape = cardClover;
                            break;
                            case 1:
                            shape = cardDIA;
                            break;
                            case 2:
                            shape = cardSpade;
                            break;
                            case 3:
                            shape = cardHeart;
                            break;
                        }
              
                Dcardnum++;
                document.getElementById(`Dcard${Dcardnum}`).src = shape[CardShapenumber[cardnumber]];
                 document.getElementById('DCardCounting').value = Dplayer_card;
            }
            function cardCounting(){
                if(check === 0)
                {
                    check = 1;
                    Hit();
                    Hit();
                    dealercard();
                    document.getElementById('CardCounting1').value =player_card*1;
                    blackJack();
                }
            }
            function  Hit()
            {
                if(check === 1)
                {
                    Cardseletor();
                    put();
                    document.getElementById('CardCounting1').value =player_card;
                }
               if(21<player_card) 
               {
                    check = 0;
                    document.getElementById('CardCounting1').value = "버스트입니다. 다시하실거면 배팅을 해주세요!";
               }
            }
            function Cardseletor()
            {
                moonyang =  Math.floor(Math.random() * 4);
                cardnumber = Math.floor(Math.random() * 13);
                moment_counting = card[cardnumber];
                if(moment_counting == 1)
                {
                    moment_counting = 11*1;
                    player_card +=moment_counting;
                    ace++;
                    if(21<player_card)
                   { 
                        
                        player_card -= 10;
                        ace--;
                   }
                 }
                else if(ace != 0)
                {
                    player_card += moment_counting*1;

                    if(21<player_card)
                   { 
                        
                        player_card -= 10;
                        ace--;
                   }
                }
                else    player_card +=moment_counting*1;
            }
            function DCardseletor()
            {
                moonyang =  Math.floor(Math.random() * 4);
                cardnumber = Math.floor(Math.random() * 13);
                moment_counting = card[cardnumber];
                if(moment_counting == 1)
                {
                    moment_counting = 11;
                    Dplayer_card +=moment_counting*1;
                    Dace++;
                    if(21<Dplayer_card)
                   { 

                        Dplayer_card -= 10;
                        Dace--;
                   }
                }
                else if(Dace != 0)
                {
                    Dplayer_card +=moment_counting*1;

                    if(21<Dplayer_card)
                   { 
                        
                        Dplayer_card -= 10;
                        Dace--;
                   }
                }
                else   Dplayer_card += moment_counting*1;
            }
            function reset()
            {
                cardnum = 0;
                ace = 0;
                player_card = 0;
                Dplayer_card = 0;
                Dcardnum = -1;
                plcrkvrl = 0;
                moment_counting = 0;
                dealer_card = 0;
                check = 0;
                cardnumber = 0;
                betting = 0;
                for(let i = 0; i<10;i++)
                        document.getElementById(`Cards/card${i}`).src = 'class.jpg';
                for(let i = 0; i<10;i++)
                        document.getElementById(`Cards/Dcard${i}`).src = 'class.jpg';
                document.getElementById('CardCounting1').value = '';
                document.getElementById('bet').value = '';
            }
            function blackJack()
            {
                if(player_card==21)
                {
                    document.getElementById('CardCounting1').value = '★BLACKJACK!☆'; 
                   //LUCKY!
                    check = 0;
                    document.getElementById('bet').value = '다시 하실 거면 배팅을 해주세요!';
                    betting *= 2.5;
                    coin += betting;
                    document.getElementById('RCoin') = coin;
                    reset();
              }
            }
            function dealercard()
            {
                DCardseletor();
                Dput();
                shape = '';   
                document.getElementById('DCardCounting').value = Dplayer_card*1;
            }
            function Split()
            {
                if(check == 1)
                {
                    check = 0;
                    while(15>=Dplayer_card*1)
                {
                    dealercard();    
                }
                if(Dplayer_card < player_card || 21 < Dplayer_card) 
                {
                    document.getElementById('CardCounting1').value = 'YOU WIN!';
                    coin += betting*2;
                    document.getElementById('RCoin').value = coin;
                }
                else  if(Dplayer_card > player_card || 21<player_card)
                {
                    document.getElementById('CardCounting1').value = 'YOU LOSE!';
                }
                else{
                    document.getElementById('CardCounting1').value = 'DRAW';
                    coin += betting*1;
                    document.getElementById('RCoin').value = coin;
                    }
                }
            }
    </script> 
</html>